{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"model-factory model-factory is a repository used in conjunction with opendrr-api repository. It contains documentation, and scripts (python and sql) to transform opendrr source data (exposure, census, and OpenQuake outputs etc.) into risk profile indicators for: National Human Settlement Layer - Physical Exposure - Social Fabric Earthquake Scenarios Probabilistic Earthquake Risk documentation/ RiskProfileTaxonomy.xls Documentation of v1.0 risk profile indicators for review and comments. opendrr.drawio diagram of current opendrr postgis database, created in draw.io scripts/ Series of python and sql scripts that are used in opendrr-api repository to build the PostGIS database. requirements.txt list of modules and versions required to be installed. $ pip install -r requirements.txt Refer to the releases section for latest version changes. How the script works Most scripts in this repository are run with keyword arguments. Example: $ python3 DSRA_outputs2postgres.py --dsraModelDir=\"https://github.com/OpenDRR/openquake-models/tree/master/deterministic/outputs\" --columnsINI=\"DSRA_outputs2postgres.ini\" Or ask scripts for help on how to run them: ``` $ python3 DSRA_outputs2postgres.py --help","title":"Home"},{"location":"#model-factory","text":"model-factory is a repository used in conjunction with opendrr-api repository. It contains documentation, and scripts (python and sql) to transform opendrr source data (exposure, census, and OpenQuake outputs etc.) into risk profile indicators for: National Human Settlement Layer - Physical Exposure - Social Fabric Earthquake Scenarios Probabilistic Earthquake Risk documentation/ RiskProfileTaxonomy.xls Documentation of v1.0 risk profile indicators for review and comments. opendrr.drawio diagram of current opendrr postgis database, created in draw.io scripts/ Series of python and sql scripts that are used in opendrr-api repository to build the PostGIS database. requirements.txt list of modules and versions required to be installed. $ pip install -r requirements.txt Refer to the releases section for latest version changes.","title":"model-factory"},{"location":"#how-the-script-works","text":"Most scripts in this repository are run with keyword arguments. Example: $ python3 DSRA_outputs2postgres.py --dsraModelDir=\"https://github.com/OpenDRR/openquake-models/tree/master/deterministic/outputs\" --columnsINI=\"DSRA_outputs2postgres.ini\" Or ask scripts for help on how to run them: ``` $ python3 DSRA_outputs2postgres.py --help","title":"How the script works"},{"location":"intro/","text":"opendrr_db_documentation (v1.4.4) Breakdown of each schema and all the tables,table columns etc can be found in opendrr.drawio diagram. https://github.com/OpenDRR/opendrr-data-store/blob/master/scripts/Diagrams/opendrr.drawio 2_risk-profile-indicators Google sheet containing indicators for each schema. https://docs.google.com/spreadsheets/d/1roIinl5BVe-7IX1QaXPICxiFd_mke7rUwM71rGk_Nmw/edit?usp=sharing","title":"OpenDRR Database/SQL Documentation"},{"location":"intro/#opendrr_db_documentation-v144","text":"Breakdown of each schema and all the tables,table columns etc can be found in opendrr.drawio diagram. https://github.com/OpenDRR/opendrr-data-store/blob/master/scripts/Diagrams/opendrr.drawio 2_risk-profile-indicators Google sheet containing indicators for each schema. https://docs.google.com/spreadsheets/d/1roIinl5BVe-7IX1QaXPICxiFd_mke7rUwM71rGk_Nmw/edit?usp=sharing","title":"opendrr_db_documentation (v1.4.4)"},{"location":"schemas/","text":"Schemas boundaries Notes Schema containing all geometry and reference tables related to the OpenDRR project. More details can be found in https://github.com/OpenDRR/boundaries All census related geometries are adapted from Statistics Canada, 2016 Census Boundary files, 2020 Settled Area geometry development can be found in Physical exposure to natural hazards in Canada All tables with geometries are in EPSG 4326 unless specified with a suffix _3857, which signifies EPSG 3857 Table count: 53 Tables Geometry_ADAUID Aggregate dissemination area geometry Geometry_CANADA Canada outline geometry Geometry_CDUID Census Division geometry Geometry_CSDUID Census Subdivision geometry, simplified polygon at 0.005 degrees Geometry_DAUID Dissemination Area geometry Geometry_ERUID Economic Region geometry Geometry_FSAUID Forward Sortation Area geometry Geometry_PRUID Province geometry Geometry_SAUID Settled area geometry, contains 2 sets of geometries, point and polygon. HexGrid_1km Clipped hexagonal geometry of Canada based on x grid spacing of approximately 0.01 degrees(1km) HexGrid_1km_3857 Clipped hexagonal geometry of Canada based on x grid spacing of approximately 0.01 degrees(1km) EPSG 3857 HexGrid_1km_unclipped Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.01 degrees(1km) HexGrid_1km_unclipped_3857 Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.05 degrees(5km) EPSG 3857 HexGrid_5km Clipped hexagonal geometry of Canada based on x grid spacing of approximately 0.05 degrees(5km) HexGrid_5km_3857 Clipped hexagonal geometry of Canada based on x grid spacing of approximately 0.05 degrees(5km) EPSG 3857 HexGrid_5km_unclipped Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.05 degrees(5km) HexGrid_5km_unclipped_3857 Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.05 degrees(5km) EPSG 3857 HexGrid_10km Clipped hexagonal geometry of Canada based on x grid spacing of approximately 0.1 degrees(10km) HexGrid_10km_3857 Clipped hexagonal geometry of Canada based on x grid spacing of approximately 0.1 degrees(10km) EPSG 3857 HexGrid_10km_unclipped Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.1 degrees(10km) HexGrid_10km_unclipped_3857 Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.1 degrees(10km) EPSG 3857 HexGrid_25km Clipped hexagonal geometry of Canada based on x grid spacing of approximately 0.25 degrees(25km) HexGrid_25km_3857 Clipped hexagonal geometry of Canada based on x grid spacing of approximately 0.25 degrees(25km) EPSG 3857 HexGrid_25km_unclipped Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.25 degrees(25km) HexGrid_25km_unclipped_3857 Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.25 degrees(25km) EPSG 3857 HexGrid_50km_unclipped Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.50 degrees(50km) HexGrid_50km_unclipped_3857 Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.50 degrees(50km) EPSG 3857 HexGrid_100km_unclipped Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 1 degrees(100km) HexGrid_100km_unclipped_3857 Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 1 degrees(100km) EPSG 3857 HexGrid_GlobalFabric Hexagonal geometry extents of Canada based off GEM\u2019s global fabric hex grid SAUID_HexGrid Table referencing the centroid of each settled area id (SAUID) to the various HexGrid geometries (5km,10km,25km,50km,100km) used for aggregation purposes. SAUID_HexGrid_1km_intersect Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_1km geometry used for aggregation purposes. SAUID_HexGrid_1km_intersect_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_1km_3857 geometry used for aggregation purposes. SAUID_HexGrid_1km_intersect_unclipped Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_1km_unclipped geometry used for aggregation purposes. SAUID_HexGrid_1km_intersect_unclipped_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_1km_unclipped_3857 geometry used for aggregation purposes. SAUID_HexGrid_5km_intersect Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_5km geometry used for aggregation purposes. SAUID_HexGrid_5km_intersect_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_5km_3857 geometry used for aggregation purposes. SAUID_HexGrid_5km_intersect_unclipped Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_5km_unclipped geometry used for aggregation purposes. SAUID_HexGrid_5km_intersect_unclipped_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_5km_unclipped_3857 geometry used for aggregation purposes. SAUID_HexGrid_10km_intersect Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_10km geometry used for aggregation purposes. SAUID_HexGrid_10km_intersect_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_10km_3857 geometry used for aggregation purposes. SAUID_HexGrid_10km_intersect_unclipped Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_10km_unclipped geometry used for aggregation purposes. SAUID_HexGrid_10km_intersect_unclipped_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_10km_unclipped_3857 geometry used for aggregation purposes. SAUID_HexGrid_25km_intersect Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_25km geometry used for aggregation purposes. SAUID_HexGrid_25km_intersect_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_25km_3857 geometry used for aggregation purposes. SAUID_HexGrid_25km_intersect_unclipped Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_25km_unclipped geometry used for aggregation purposes. SAUID_HexGrid_25km_intersect_unclipped_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_25km_unclipped_3857 geometry used for aggregation purposes. SAUID_HexGrid_50km_intersect_unclipped Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_50km_unclipped geometry used for aggregation purposes. SAUID_HexGrid_50km_intersect_unclipped_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_50km_unclipped_3857 geometry used for aggregation purposes. SAUID_HexGrid_100km_intersect_unclipped Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_100km_unclipped geometry used for aggregation purposes. SAUID_HexGrid_100km_intersect_unclipped_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_100km_unclipped_3857 geometry used for aggregation purposes. SAUID_HexGrid_GlobalFabric_intersect Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_GlobalFabric geometry used for aggregation purposes. SAUID_HexGrid_Unclipped Table referencing the centroid of each settled area id (SAUID) to the various unclipped HexGrid geometries (5km,10km,25km,50km,100km) used for aggregation purposes. census Notes census-attributes-2016.csv 2016 Census attribute source table of Canada https://github.com/OpenDRR/openquake-inputs/blob/main/exposure/census-ref-sauid/census-attributes-2016.csv Tables count: 1 Tables census_2016_canada Table containing relevant processed indicators from the 2016 census. db_check Notes Tables count: 1 Tables table_view_checkrow Table showing all the schema, table names, table type (table, view etc), and row count in the opendrr database. Useful for QA/QC check at the end of stackbuild to see if any issues arise (ie missing tables, row_count of 0 etc).","title":"Schemas"},{"location":"schemas/#schemas","text":"","title":"Schemas"},{"location":"schemas/#boundaries","text":"","title":"boundaries"},{"location":"schemas/#notes","text":"Schema containing all geometry and reference tables related to the OpenDRR project. More details can be found in https://github.com/OpenDRR/boundaries All census related geometries are adapted from Statistics Canada, 2016 Census Boundary files, 2020 Settled Area geometry development can be found in Physical exposure to natural hazards in Canada All tables with geometries are in EPSG 4326 unless specified with a suffix _3857, which signifies EPSG 3857 Table count: 53","title":"Notes"},{"location":"schemas/#tables","text":"Geometry_ADAUID Aggregate dissemination area geometry Geometry_CANADA Canada outline geometry Geometry_CDUID Census Division geometry Geometry_CSDUID Census Subdivision geometry, simplified polygon at 0.005 degrees Geometry_DAUID Dissemination Area geometry Geometry_ERUID Economic Region geometry Geometry_FSAUID Forward Sortation Area geometry Geometry_PRUID Province geometry Geometry_SAUID Settled area geometry, contains 2 sets of geometries, point and polygon. HexGrid_1km Clipped hexagonal geometry of Canada based on x grid spacing of approximately 0.01 degrees(1km) HexGrid_1km_3857 Clipped hexagonal geometry of Canada based on x grid spacing of approximately 0.01 degrees(1km) EPSG 3857 HexGrid_1km_unclipped Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.01 degrees(1km) HexGrid_1km_unclipped_3857 Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.05 degrees(5km) EPSG 3857 HexGrid_5km Clipped hexagonal geometry of Canada based on x grid spacing of approximately 0.05 degrees(5km) HexGrid_5km_3857 Clipped hexagonal geometry of Canada based on x grid spacing of approximately 0.05 degrees(5km) EPSG 3857 HexGrid_5km_unclipped Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.05 degrees(5km) HexGrid_5km_unclipped_3857 Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.05 degrees(5km) EPSG 3857 HexGrid_10km Clipped hexagonal geometry of Canada based on x grid spacing of approximately 0.1 degrees(10km) HexGrid_10km_3857 Clipped hexagonal geometry of Canada based on x grid spacing of approximately 0.1 degrees(10km) EPSG 3857 HexGrid_10km_unclipped Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.1 degrees(10km) HexGrid_10km_unclipped_3857 Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.1 degrees(10km) EPSG 3857 HexGrid_25km Clipped hexagonal geometry of Canada based on x grid spacing of approximately 0.25 degrees(25km) HexGrid_25km_3857 Clipped hexagonal geometry of Canada based on x grid spacing of approximately 0.25 degrees(25km) EPSG 3857 HexGrid_25km_unclipped Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.25 degrees(25km) HexGrid_25km_unclipped_3857 Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.25 degrees(25km) EPSG 3857 HexGrid_50km_unclipped Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.50 degrees(50km) HexGrid_50km_unclipped_3857 Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 0.50 degrees(50km) EPSG 3857 HexGrid_100km_unclipped Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 1 degrees(100km) HexGrid_100km_unclipped_3857 Unclipped hexagonal geometry of Canada based on x grid spacing of approximately 1 degrees(100km) EPSG 3857 HexGrid_GlobalFabric Hexagonal geometry extents of Canada based off GEM\u2019s global fabric hex grid SAUID_HexGrid Table referencing the centroid of each settled area id (SAUID) to the various HexGrid geometries (5km,10km,25km,50km,100km) used for aggregation purposes. SAUID_HexGrid_1km_intersect Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_1km geometry used for aggregation purposes. SAUID_HexGrid_1km_intersect_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_1km_3857 geometry used for aggregation purposes. SAUID_HexGrid_1km_intersect_unclipped Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_1km_unclipped geometry used for aggregation purposes. SAUID_HexGrid_1km_intersect_unclipped_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_1km_unclipped_3857 geometry used for aggregation purposes. SAUID_HexGrid_5km_intersect Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_5km geometry used for aggregation purposes. SAUID_HexGrid_5km_intersect_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_5km_3857 geometry used for aggregation purposes. SAUID_HexGrid_5km_intersect_unclipped Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_5km_unclipped geometry used for aggregation purposes. SAUID_HexGrid_5km_intersect_unclipped_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_5km_unclipped_3857 geometry used for aggregation purposes. SAUID_HexGrid_10km_intersect Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_10km geometry used for aggregation purposes. SAUID_HexGrid_10km_intersect_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_10km_3857 geometry used for aggregation purposes. SAUID_HexGrid_10km_intersect_unclipped Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_10km_unclipped geometry used for aggregation purposes. SAUID_HexGrid_10km_intersect_unclipped_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_10km_unclipped_3857 geometry used for aggregation purposes. SAUID_HexGrid_25km_intersect Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_25km geometry used for aggregation purposes. SAUID_HexGrid_25km_intersect_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_25km_3857 geometry used for aggregation purposes. SAUID_HexGrid_25km_intersect_unclipped Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_25km_unclipped geometry used for aggregation purposes. SAUID_HexGrid_25km_intersect_unclipped_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_25km_unclipped_3857 geometry used for aggregation purposes. SAUID_HexGrid_50km_intersect_unclipped Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_50km_unclipped geometry used for aggregation purposes. SAUID_HexGrid_50km_intersect_unclipped_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_50km_unclipped_3857 geometry used for aggregation purposes. SAUID_HexGrid_100km_intersect_unclipped Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_100km_unclipped geometry used for aggregation purposes. SAUID_HexGrid_100km_intersect_unclipped_3857 Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_100km_unclipped_3857 geometry used for aggregation purposes. SAUID_HexGrid_GlobalFabric_intersect Table referencing the settled area id (SAUID) area, and its percentage of area intersect with respect to HexGrid_GlobalFabric geometry used for aggregation purposes. SAUID_HexGrid_Unclipped Table referencing the centroid of each settled area id (SAUID) to the various unclipped HexGrid geometries (5km,10km,25km,50km,100km) used for aggregation purposes.","title":"Tables"},{"location":"schemas/#census","text":"","title":"census"},{"location":"schemas/#notes_1","text":"census-attributes-2016.csv 2016 Census attribute source table of Canada https://github.com/OpenDRR/openquake-inputs/blob/main/exposure/census-ref-sauid/census-attributes-2016.csv Tables count: 1","title":"Notes"},{"location":"schemas/#tables_1","text":"census_2016_canada Table containing relevant processed indicators from the 2016 census.","title":"Tables"},{"location":"schemas/#db_check","text":"","title":"db_check"},{"location":"schemas/#notes_2","text":"Tables count: 1","title":"Notes"},{"location":"schemas/#tables_2","text":"table_view_checkrow Table showing all the schema, table names, table type (table, view etc), and row count in the opendrr database. Useful for QA/QC check at the end of stackbuild to see if any issues arise (ie missing tables, row_count of 0 etc).","title":"Tables"}]}